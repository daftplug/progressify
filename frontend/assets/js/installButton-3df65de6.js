import{config as n}from"./frontend.js";import{p as t}from"./installPrompt-689ca566.js";import{g as e}from"./utils-ae07b67a.js";class s extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.styles=new Set}connectedCallback(){this.render(),this.handleClick()}injectStyles(n){this.styles.add(n)}handleClick(){this.shadowRoot.querySelector(".pwa-install-button").addEventListener("click",()=>{t()})}render(){var t,s,o,l;const a=null!=(t=null==(s=n.jsVars.settings.webAppManifest)||null==(s=s.appearance)?void 0:s.themeColor)?t:"#000000",i=e(a),r=null!=(o=null==(l=n.jsVars.settings.installation)||null==(l=l.prompts)?void 0:l.text)?o:__("Install Web App",n.slug);this.injectStyles(`\n      :host(:active),\n      :host(:focus) {\n        outline: transparent;\n        border: none;\n      }\n\n      .pwa-install-button {\n        display: inline-block;\n        background-color: ${a};\n        color: ${i};\n        vertical-align: middle;\n        text-decoration: none;\n        font-size: 0.875rem;\n        line-height: 1.25rem;\n        font-weight: 500;\n        padding: 0.5rem 1rem;\n        border: none;\n        outline: none;\n        border-radius: 9999px;\n        cursor: pointer;\n      }\n\n      .pwa-install-button:hover {\n        opacity: 0.8;\n      }\n    `);const c=Array.from(this.styles).join("\n");this.shadowRoot.innerHTML=`\n      <style>${c}</style>\n      <button class="pwa-install-button">${r}</button>\n    `}}function o(){const{platform:t}=n.jsVars.userData;t.isBrowser&&!t.isPwa&&(customElements.get("pwa-install-button")||customElements.define("pwa-install-button",s))}export{o as initInstallButton};
